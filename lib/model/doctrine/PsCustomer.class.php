<?php

/**
 * PsCustomer
 * 
 * This class has been auto-generated by the Doctrine ORM Framework
 * 
 * @package    quanlymamnon.vn
 * @subpackage model
 * @author     quanlymamnon.vn <contact@quanlymamnon.vn>
 * @version    SVN: $Id: Builder.php 7490 2010-03-29 19:53:27Z jwage $
 */
class PsCustomer extends BasePsCustomer {

	/**
	 * Lay so luong doi tuong co rang buoc voi truong
	 *
	 * @author thangnc
	 * @param $model -
	 *        	string, Model name
	 * @return int
	 */
	public function getNumberObject($model) {

		return Doctrine::getTable ( $model )->createQuery ( 'a' )
			->select ( 'a.id' )
			->addWhere ( 'a.ps_customer_id = ?', $this->getId () )
			->count ();
	}

	// Lay so luong so hoc sinh cua truong
	public function getNumberStudent() {

		return Doctrine::getTable ( 'Student' )->getNumberStudentByCustomerId ( $this->getId () );
	}

	// Lay so luong nhan su cua truong
	public function getNumberMember() {

		return Doctrine::getTable ( 'PsMember' )->getNumberMemberByCustomerId ( $this->getId () );
	}

	// Lay so luong co so dao tao cua truong
	public function getNumberWorkPlaces() {

		return Doctrine::getTable ( 'PsWorkPlaces' )->getNumberWorkPlacesByCustomerId ( $this->getId () );
	}

	// Lay so luong nhom dich vu cua truong
	public function getNumberServiceGroup() {

		return Doctrine::getTable ( 'ServiceGroup' )->getNumberServiceGroupByCustomerId ( $this->getId () );
	}

	// Lay so luong dich vu cua truong
	public function getNumberService() {

		return Doctrine::getTable ( 'Service' )->getNumberServiceByCustomerId ( $this->getId () );
	}
}
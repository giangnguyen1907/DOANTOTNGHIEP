<?php

/**
 * ReceivableStudent
 * 
 * This class has been auto-generated by the Doctrine ORM Framework
 * 
 * @package    Preschool
 * @subpackage model
 * @author     Your name here
 * @version    SVN: $Id: Builder.php 7490 2010-03-29 19:53:27Z jwage $
 */
class ReceivableStudent extends BaseReceivableStudent {

	public function getAmountByReceivableStudent($student_id, $service_id, $date) {

		return Doctrine::getTable ( 'ReceivableStudent' )->getAmountByReceivableStudent ( $student_id, $service_id, $date );
	}

	public function getReceivableOnly($student_id, $date) {

		return Doctrine::getTable ( 'ReceivableStudent' )->getReceivableOnly ( $student_id, $date );
	}

	public function getCollectedStudentByDate($student_id, $date) {

		return Doctrine::getTable ( "ReceivableStudent" )->getCollectedStudentByDate ( $student_id, $date );
	}

	public function findOneByServiceOfStudent($student_id, $date) {

		// Old public function findOneByServiceOfStudent($date){
		return Doctrine::getTable ( "ReceivableStudent" )->findOne ( $student_id, $this->getServiceId (), $date );
	}

	public function getRecurrenceService() {

		return Doctrine::getTable ( "RecurrenceService" )->getAmountByStudentService ( $this->getStudentId (), $this->getServiceId (), strtotime ( $this->getReceivableAt () ) );
	}

	public function getServiceDetail() {

		return Doctrine::getTable ( "ServiceDetail" )->getServiceDetailByDate ( $this->getServiceId (), strtotime ( $this->getReceivableAt () ) );
	}

	public function findOneOfStudent($student_id, $date) {

		return Doctrine::getTable ( 'ReceivableStudent' )->findOneOfStudent ( $this->getServiceId (), $student_id, $date );
	}

	public function findOneOnlyOfStudent($student_id, $date) {

		return Doctrine::getTable ( 'CollectedStudent' )->findOneOnlyOfStudent ( $this->getId (), $student_id, $date );
	}

	public function findOneRecurrenceService() {

		return Doctrine::getTable ( "RecurrenceService" )->findOneRecurrenceService ( $this->getStudentId (), $this->getServiceId (), strtotime ( $this->getReceivableAt () ) );
	}
}
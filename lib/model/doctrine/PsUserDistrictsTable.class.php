<?php

/**
 * PsUserDistrictsTable
 * 
 * This class has been auto-generated by the Doctrine ORM Framework
 */
class PsUserDistrictsTable extends Doctrine_Table
{
    /**
     * Returns an instance of this class.
     *
     * @return object PsUserDistrictsTable
     */
    public static function getInstance()
    {
        return Doctrine_Core::getTable('PsUserDistricts');
    }
    
    /** Lay Quan/Huyen quan ly cua user **/
    public function getListByUserId($user_id) {
    	
    	$query = $this->createQuery ( 'ud' );
    	
    	$query->select ( 'ud.*' );
    	
    	$query->innerJoin( 'ud.PsDistricts d ON d.id = ud.ps_district_id' );
    	
    	$query->innerJoin ( 'ud.Users u ON u.id = ud.user_id' );
    	
    	$query->addWhere ( 'u.id = ?', $user_id );
    	
    	return $query->execute ();
    }
}
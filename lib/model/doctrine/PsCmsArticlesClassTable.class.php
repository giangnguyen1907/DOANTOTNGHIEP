<?php

/**
 * PsCmsArticlesClassTable
 * 
 * This class has been auto-generated by the Doctrine ORM Framework
 */
class PsCmsArticlesClassTable extends Doctrine_Table
{
    /**
     * Returns an instance of this class.
     *
     * @return object PsCmsArticlesClassTable
     */
    public static function getInstance()
    {
        return Doctrine_Core::getTable('PsCmsArticlesClass');
    }
    public function checkArticleClassById($article_id) {
    	$query = $this->createQuery ( 'a' );
    	$query->select ( 'a.*');
    	$query->where('a.ps_article_id =?',$article_id);
    	return $query->execute();
    }
    public function getArticleClassById($article_id) {
    	
    	$query = $this->createQuery ( 'a' );
    	$query->select ( 'a.id AS id,a.ps_class_id AS ps_class_id,mc.id AS mc_id,mc.name AS class_name');
    	$query->innerJoin('a.MyClass mc');
    	$query->addWhere('a.ps_article_id =?',$article_id);
    	$query->orderBy('mc.name');
    	return $query->execute();
    	
    }
}